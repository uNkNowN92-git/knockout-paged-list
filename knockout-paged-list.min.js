var PagedList=function(e){return function(e){var t=this;t.defaultEntriesPerPage=e.entriesPerPage||5,t.url=e.url||"",t.data=ko.observableArray(),t.query=ko.observableArray(),t.loading=ko.observable(!1),t.pageNumber=ko.observable(1),t.totalEntries=ko.observable(),t.entriesPerPage=ko.observable(t.defaultEntriesPerPage),t.totalPages=ko.computed(function(){var e=Math.floor(t.totalEntries()/t.entriesPerPage());return e+=t.totalEntries()%t.entriesPerPage()>0?1:0}),t.entries=ko.computed(function(){var e=(t.pageNumber()-1)*t.entriesPerPage();return t.data.slice(e,e+t.entriesPerPage())}),t.onFirstPage=ko.computed(function(){return 1===t.pageNumber()||0===t.totalEntries()}),t.onLastPage=ko.computed(function(){return t.pageNumber()===t.totalPages()||0===t.totalEntries()}),t.nextItemsCount=ko.computed(function(){return t.totalPages()-t.pageNumber()==1?t.totalEntries()%t.entriesPerPage():t.defaultEntriesPerPage}),t.previousItemsCount=ko.computed(function(){return t.defaultEntriesPerPage}),t.firstPage=function(){t.pageNumber(1)},t.lastPage=function(){t.pageNumber(t.totalPages())},t.next=function(){t.pageNumber()<t.totalPages()&&(t.data().length<(t.pageNumber()+2)*t.entriesPerPage()&&t.data().length!=t.totalEntries()?t.getEntities(!0):t.pageNumber(t.pageNumber()+1))},t.previous=function(){0!==t.pageNumber()&&t.pageNumber(t.pageNumber()-1)},t.showFirstEntries=function(){t.pageNumber(1),t.entriesPerPage(t.defaultEntriesPerPage)},t.showFirstEntriesEnabled=function(){return t.hasEntries()&&t.totalEntries()!=t.entriesPerPage()},t.showAll=function(){t.pageNumber(1),t.entriesPerPage(t.totalEntries()),t.data().length<t.totalEntries()&&t.getEntities()},t.shownAll=function(){return t.entriesPerPage()>=t.totalEntries()},t.hasEntries=function(){return t.totalEntries()>0},t.headers=ko.observableArray(),t.sortOnly=ko.observable(!1),t.activeSort=ko.observableArray(),t.sort=function(e){var r=$.map(t.headers(),function(t,r){return t===e?r:void 0})[0];if(void 0!==r){var a={column:e};t.activeSort().column===e&&(a.asc=!t.activeSort().asc),t.activeSort(a),t.sortOnly(!0),t.getEntities()}},t.getList=function(e){t.pageNumber(1),t.entriesPerPage(t.defaultEntriesPerPage),t.getEntities()},t.getEntities=function(e){t.loading(!0);var r={page:t.pageNumber()+(e?1:0),perPage:t.entriesPerPage(),currentEntries:t.data().length};t.activeSort()&&($.extend(r,{sortBy:t.activeSort().column,sortAsc:t.activeSort().asc,sortOnly:t.sortOnly()}),t.sortOnly(!1)),$.getJSON(t.url,$.extend(r,t.query()),function(r){if(e)t.data.push.apply(t.data(),r.data),t.pageNumber(t.pageNumber()+1);else if(t.data(r.data),void 0!==r.data[0]&&0===t.headers().length){var a=$.map(r.data[0],function(e,t){return t});t.headers(a)}t.totalEntries(r.details.totalEntries),t.loading(!1)})}}}();