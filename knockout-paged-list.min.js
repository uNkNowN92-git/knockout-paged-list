/**
 * knockout-paged-list - A KnockoutJS Plugin for Paged List/Grid
 * @version v1.0.4
 * @link https://github.com/uNkNowN92-git/knockout-paged-list/
 * @repository https://github.com/uNkNowN92-git/knockout-paged-list.git
 * @license ISC
 */
var PagedList=function(e){return function(e){function r(){e&&(b.defaultUrl=void 0!==e.url?e.url:b.defaultUrl,b.queryOnLoad=void 0!==e.queryOnLoad?e.queryOnLoad:b.queryOnLoad,b.defaultEntriesPerPage=void 0!==e.entriesPerPage?e.entriesPerPage:b.defaultEntriesPerPage,b.clearLoadedDataOnError=void 0!==e.clearLoadedDataOnError?e.clearLoadedDataOnError:b.clearLoadedDataOnError)}function t(){return 1===b.requestedPage()&&b.entriesPerPage()===b.totalEntries()}function a(){n()?(b.requestedPage(1),b.entriesPerPage(b.defaultEntriesPerPage),i()):b.queryOnFilterChangeOnly===!1?i():b.sortOnly()?(i(),b.sortOnly(!1)):o()?i():b.currentPage(b.requestedPage())}function n(){var e={};return $.extend(e,[b.filter()][0]),ko.toJSON(e)!=ko.toJSON(b.appliedFilter())?(b.appliedFilter(e),!0):!1}function o(){return b.loadedEntriesCount()<b.totalEntriesOnNextPage()&&b.loadedEntriesCount()!=b.totalEntries()}function u(e){var r=void 0!==e?$(e.target).data("url"):void 0;b.setUrl(r)}function s(e){return void 0!==e?$(e.target).data("sort-field"):void 0}function i(){if(void 0!==b.url()){b.loading(!0);var e=d();$.ajax({url:b.url(),method:"get",dataType:"json",data:e,success:c,error:v,beforeSend:l}).always(function(){b.loading(!1)})}}function l(e){e.setRequestHeader("Authorization","Basic faskd52352rwfsdfs"),e.setRequestHeader("X-PartnerKey","3252352-sdgds-sdgd-dsgs-sgs332fs3f")}function d(){var e={page:b.requestedPage(),perPage:b.entriesPerPage(),currentEntries:b.loadedEntriesCount(),showAll:t()};return b.activeSort()&&$.extend(e,{sortBy:b.activeSort().column,sortAsc:b.activeSort().asc,sortOnly:b.sortOnly()}),$.extend(e,b.filter()),e}function c(e){e.data.length>0&&(P(e.data),b.currentPage(b.requestedPage())),g(e.details),b.error([])}function P(e){var r=b.requestedPage()>b.currentPage();r?(ko.utils.arrayPushAll(b.data(),e),b.data.valueHasMutated(),b.currentPage()<b.totalPages()&&b.currentPage(b.currentPage()+1)):(f(e[0]),b.data(e))}function g(e){0===e.totalEntries&&b.data([]),b.totalEntries(e.totalEntries)}function f(e){if(0===b.columns().length){var r=$.map(e,function(e,r){return r});b.columns(r)}}function v(e,r,t){b.error({jqXHR:e,status:r,error:t}),b.appliedFilter([]),b.clearLoadedDataOnError&&b.data([])}function E(){void 0!==b.defaultUrl&&(b.setUrl(b.defaultUrl),b.queryOnLoad&&b.getList())}var b=this;b.defaultUrl=void 0,b.queryOnLoad=!0,b.defaultEntriesPerPage=5,b.clearLoadedDataOnError=!1,b.queryOnFilterChangeOnly=!0,r(),b.url=ko.observable(),b.data=ko.observableArray(),b.currentPage=ko.observable(1),b.requestedPage=ko.observable(1),b.entriesPerPage=ko.observable(b.defaultEntriesPerPage),b.totalEntries=ko.observable(0),b.headers=ko.observableArray(),b.error=ko.observableArray(),b.loading=ko.observable(),b.filter=ko.observableArray(),b.appliedFilter=ko.observableArray(),b.columns=ko.observableArray(),b.sortOnly=ko.observable(),b.activeSort=ko.observableArray(),b.entries=ko.computed(function(){var e=(b.currentPage()-1)*b.entriesPerPage();return b.data.slice(e,e+b.entriesPerPage())}),b.hasEntries=ko.computed(function(){return b.totalEntries()>0}),b.totalPages=ko.computed(function(){var e=Math.ceil(b.totalEntries()/b.entriesPerPage());return e>0?e:1}),b.previousEnabled=ko.computed(function(){return 1!==b.currentPage()}),b.nextEnabled=ko.computed(function(){return b.currentPage()!==b.totalPages()}),b.showFirstEntriesEnabled=ko.computed(function(){return b.hasEntries()&&b.totalEntries()>b.defaultEntriesPerPage}),b.firstEntriesCount=ko.computed(function(){return b.totalEntries()<b.entriesPerPage()?b.totalEntries():b.defaultEntriesPerPage}),b.previousItemsCount=ko.computed(function(){return b.defaultEntriesPerPage}),b.nextItemsCount=ko.computed(function(){return b.totalPages()-b.currentPage()==1?b.totalEntries()-b.entriesPerPage()*(b.totalPages()-1):b.defaultEntriesPerPage}),b.loadedEntriesCount=ko.computed(function(){return b.data().length}),b.shownAll=ko.computed(function(){return b.entriesPerPage()>=b.totalEntries()}),b.totalEntriesOnNextPage=function(){return b.requestedPage()*b.entriesPerPage()},b.hasError=ko.computed(function(){return 0!==b.error().length}),b.errorCode=ko.computed(function(){return void 0!==b.error().jqXHR?b.error().jqXHR.status:null}),b.parserError=ko.computed(function(){return void 0!==b.error().status?"parsererror"===b.error().status:!1}),b.firstPage=function(){b.requestedPage(1),a()},b.lastPage=function(){},b.next=function(){b.currentPage()<b.totalPages()&&(b.requestedPage(b.currentPage()+1),a())},b.previous=function(){b.currentPage()>1&&(b.requestedPage(b.currentPage()-1),a())},b.showFirstEntries=function(){b.requestedPage(1),b.entriesPerPage(b.defaultEntriesPerPage),a()},b.showAll=function(){b.requestedPage(1),b.entriesPerPage(b.totalEntries()),a()},b.sort=function(e,r,t){if(void 0!==b.columns()&&!(b.totalEntries()<=1)&&(void 0!==t?u(t):(u(r),e=s(r)),-1!==$.inArray(e,b.columns()))){var n={column:e,asc:!0};b.activeSort().column===e&&(n.asc=!b.activeSort().asc),b.activeSort(n),b.sortOnly(!0),a()}},b.setUrl=function(e){b.url(void 0!==e?e:b.defaultUrl)},b.getList=function(e,r){b.requestedPage(1),u(r),a()},E()}}();