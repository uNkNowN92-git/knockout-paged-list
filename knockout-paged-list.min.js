var PagedList=function(e){return function(e){function t(){e&&(v.defaultUrl=void 0===e.url?v.defaultUrl:e.url,v.queryOnLoad=void 0===e.queryOnLoad?v.queryOnLoad:e.queryOnLoad,v.defaultEntriesPerPage=void 0===e.entriesPerPage?v.defaultEntriesPerPage:e.entriesPerPage)}function r(){return 1===v.requestedPage()&&v.entriesPerPage()===v.totalEntries()}function n(){a()?(v.requestedPage(1),v.entriesPerPage(v.defaultEntriesPerPage),i()):v.sortOnly()?(i(),v.sortOnly(!1)):o()?i():v.currentPage(v.requestedPage())}function a(){var e=!1,t={};return $.extend(t,[v.filter()][0]),ko.toJSON(t)!=ko.toJSON(v.appliedFilter())&&(v.appliedFilter(t),e=!0),e}function o(){return v.loadedEntriesCount()<v.totalEntriesOnNextPage()&&v.loadedEntriesCount()!=v.totalEntries()}function u(e){var t=$(e.target).data("url");v.setUrl(t)}function i(){if(void 0!==v.url()){v.loading(!0);var e=s();$.getJSON(v.url(),e,function(e){l(e)}).fail(g).always(function(){v.loading(!1)})}}function s(){var e={page:v.requestedPage(),perPage:v.entriesPerPage(),currentEntries:v.loadedEntriesCount(),showAll:r()};return v.activeSort()&&$.extend(e,{sortBy:v.activeSort().column,sortAsc:v.activeSort().asc,sortOnly:v.sortOnly()}),$.extend(e,v.filter()),e}function l(e){e.data.length>0&&(d(e.data),v.currentPage(v.requestedPage())),P(e.details),v.error([])}function d(e){var t=v.requestedPage()>v.currentPage();t?(ko.utils.arrayPushAll(v.data(),e),v.data.valueHasMutated(),v.currentPage()<v.totalPages()&&v.currentPage(v.currentPage()+1)):(c(e[0]),v.data(e))}function P(e){0===e.totalEntries&&v.data([]),v.totalEntries(e.totalEntries)}function c(e){if(0===v.header().length){var t=$.map(e,function(e,t){return t});v.header(t)}}function g(e,t,r){v.error({jqXHR:e,status:t,error:r}),v.appliedFilter([])}function f(){void 0!==v.defaultUrl&&(v.setUrl(v.defaultUrl),v.queryOnLoad&&v.getList())}var v=this;v.defaultUrl,v.queryOnLoad=!0,v.defaultEntriesPerPage=5,t(),v.url=ko.observable(),v.data=ko.observableArray(),v.currentPage=ko.observable(1),v.requestedPage=ko.observable(1),v.entriesPerPage=ko.observable(v.defaultEntriesPerPage),v.totalEntries=ko.observable(0),v.error=ko.observableArray(),v.loading=ko.observable(),v.filter=ko.observableArray(),v.appliedFilter=ko.observableArray(),v.header=ko.observableArray(),v.sortOnly=ko.observable(),v.activeSort=ko.observableArray(),v.entries=ko.computed(function(){var e=(v.currentPage()-1)*v.entriesPerPage();return v.data.slice(e,e+v.entriesPerPage())}),v.hasEntries=ko.computed(function(){return v.totalEntries()>0}),v.totalPages=ko.computed(function(){var e=Math.ceil(v.totalEntries()/v.entriesPerPage());return e>0?e:1}),v.previousEnabled=ko.computed(function(){return 1!==v.currentPage()}),v.nextEnabled=ko.computed(function(){return v.currentPage()!==v.totalPages()}),v.showFirstEntriesEnabled=ko.computed(function(){return v.hasEntries()&&v.totalEntries()>v.defaultEntriesPerPage}),v.firstEntriesCount=ko.computed(function(){return v.totalEntries()<v.entriesPerPage()?v.totalEntries():v.defaultEntriesPerPage}),v.previousItemsCount=ko.computed(function(){return v.defaultEntriesPerPage}),v.nextItemsCount=ko.computed(function(){return v.totalPages()-v.currentPage()==1?v.totalEntries()-v.entriesPerPage()*(v.totalPages()-1):v.defaultEntriesPerPage}),v.loadedEntriesCount=ko.computed(function(){return v.data().length}),v.shownAll=ko.computed(function(){return v.entriesPerPage()>=v.totalEntries()}),v.totalEntriesOnNextPage=function(){return v.requestedPage()*v.entriesPerPage()},v.hasError=ko.computed(function(){return 0!==v.error().length}),v.errorCode=ko.computed(function(){return void 0!==v.error().jqXHR?v.error().jqXHR.status:null}),v.parserError=ko.computed(function(){return void 0!==v.error().status?"parsererror"===v.error().status:!1}),v.firstPage=function(){v.requestedPage(1),n()},v.lastPage=function(){},v.next=function(){v.currentPage()<v.totalPages()&&(v.requestedPage(v.currentPage()+1),n())},v.previous=function(){v.currentPage()>1&&(v.requestedPage(v.currentPage()-1),n())},v.showFirstEntries=function(){v.requestedPage(1),v.entriesPerPage(v.defaultEntriesPerPage),n()},v.showAll=function(){v.requestedPage(1),v.entriesPerPage(v.totalEntries()),n()},v.sort=function(e,t,r){if(void 0!==v.header()&&!(v.totalEntries()<=1)&&(u(r),-1!==$.inArray(e,v.header()))){var a={column:e,asc:!0};v.activeSort().column===e&&(a.asc=!v.activeSort().asc),v.activeSort(a),v.sortOnly(!0),n()}},v.setUrl=function(e){v.url(void 0!==e?e:v.defaultUrl)},v.getList=function(e,t){v.requestedPage(1),u(t),n()},f()}}();