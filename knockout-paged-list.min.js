var PagedList=function(e){return function(e){function t(){e&&(E.defaultUrl=void 0===e.url?E.defaultUrl:e.url,E.queryOnLoad=void 0===e.queryOnLoad?E.queryOnLoad:e.queryOnLoad,E.defaultEntriesPerPage=void 0===e.entriesPerPage?E.defaultEntriesPerPage:e.entriesPerPage)}function r(){return 1===E.requestedPage()&&E.entriesPerPage()===E.totalEntries()}function n(){a()?(E.requestedPage(1),E.entriesPerPage(E.defaultEntriesPerPage),s()):E.sortOnly()?(s(),E.sortOnly(!1)):o()?s():E.currentPage(E.requestedPage())}function a(){var e=!1,t={};return $.extend(t,[E.filter()][0]),ko.toJSON(t)!=ko.toJSON(E.appliedFilter())&&(E.appliedFilter(t),e=!0),e}function o(){return E.loadedEntriesCount()<E.totalEntriesOnNextPage()&&E.loadedEntriesCount()!=E.totalEntries()}function u(e){var t=void 0!==e?$(e.target).data("url"):void 0;E.setUrl(t)}function i(e){return void 0!==e?$(e.target).data("sort-field"):void 0}function s(){if(void 0!==E.url()){E.loading(!0);var e=l();$.getJSON(E.url(),e,function(e){d(e)}).fail(f).always(function(){E.loading(!1)})}}function l(){var e={page:E.requestedPage(),perPage:E.entriesPerPage(),currentEntries:E.loadedEntriesCount(),showAll:r()};return E.activeSort()&&$.extend(e,{sortBy:E.activeSort().column,sortAsc:E.activeSort().asc,sortOnly:E.sortOnly()}),$.extend(e,E.filter()),e}function d(e){e.data.length>0&&(P(e.data),E.currentPage(E.requestedPage())),c(e.details),E.error([])}function P(e){var t=E.requestedPage()>E.currentPage();t?(ko.utils.arrayPushAll(E.data(),e),E.data.valueHasMutated(),E.currentPage()<E.totalPages()&&E.currentPage(E.currentPage()+1)):(g(e[0]),E.data(e))}function c(e){0===e.totalEntries&&E.data([]),E.totalEntries(e.totalEntries)}function g(e){if(0===E.header().length){var t=$.map(e,function(e,t){return t});E.header(t)}}function f(e,t,r){E.error({jqXHR:e,status:t,error:r}),E.appliedFilter([])}function v(){void 0!==E.defaultUrl&&(E.setUrl(E.defaultUrl),E.queryOnLoad&&E.getList())}var E=this;E.defaultUrl=void 0,E.queryOnLoad=!0,E.defaultEntriesPerPage=5,t(),E.url=ko.observable(),E.data=ko.observableArray(),E.currentPage=ko.observable(1),E.requestedPage=ko.observable(1),E.entriesPerPage=ko.observable(E.defaultEntriesPerPage),E.totalEntries=ko.observable(0),E.error=ko.observableArray(),E.loading=ko.observable(),E.filter=ko.observableArray(),E.appliedFilter=ko.observableArray(),E.header=ko.observableArray(),E.sortOnly=ko.observable(),E.activeSort=ko.observableArray(),E.entries=ko.computed(function(){var e=(E.currentPage()-1)*E.entriesPerPage();return E.data.slice(e,e+E.entriesPerPage())}),E.hasEntries=ko.computed(function(){return E.totalEntries()>0}),E.totalPages=ko.computed(function(){var e=Math.ceil(E.totalEntries()/E.entriesPerPage());return e>0?e:1}),E.previousEnabled=ko.computed(function(){return 1!==E.currentPage()}),E.nextEnabled=ko.computed(function(){return E.currentPage()!==E.totalPages()}),E.showFirstEntriesEnabled=ko.computed(function(){return E.hasEntries()&&E.totalEntries()>E.defaultEntriesPerPage}),E.firstEntriesCount=ko.computed(function(){return E.totalEntries()<E.entriesPerPage()?E.totalEntries():E.defaultEntriesPerPage}),E.previousItemsCount=ko.computed(function(){return E.defaultEntriesPerPage}),E.nextItemsCount=ko.computed(function(){return E.totalPages()-E.currentPage()==1?E.totalEntries()-E.entriesPerPage()*(E.totalPages()-1):E.defaultEntriesPerPage}),E.loadedEntriesCount=ko.computed(function(){return E.data().length}),E.shownAll=ko.computed(function(){return E.entriesPerPage()>=E.totalEntries()}),E.totalEntriesOnNextPage=function(){return E.requestedPage()*E.entriesPerPage()},E.hasError=ko.computed(function(){return 0!==E.error().length}),E.errorCode=ko.computed(function(){return void 0!==E.error().jqXHR?E.error().jqXHR.status:null}),E.parserError=ko.computed(function(){return void 0!==E.error().status?"parsererror"===E.error().status:!1}),E.firstPage=function(){E.requestedPage(1),n()},E.lastPage=function(){},E.next=function(){E.currentPage()<E.totalPages()&&(E.requestedPage(E.currentPage()+1),n())},E.previous=function(){E.currentPage()>1&&(E.requestedPage(E.currentPage()-1),n())},E.showFirstEntries=function(){E.requestedPage(1),E.entriesPerPage(E.defaultEntriesPerPage),n()},E.showAll=function(){E.requestedPage(1),E.entriesPerPage(E.totalEntries()),n()},E.sort=function(e,t,r){if(void 0!==E.header()&&!(E.totalEntries()<=1)&&(void 0!==r?u(r):(u(t),e=i(t)),-1!==$.inArray(e,E.header()))){var a={column:e,asc:!0};E.activeSort().column===e&&(a.asc=!E.activeSort().asc),E.activeSort(a),E.sortOnly(!0),n()}},E.setUrl=function(e){E.url(void 0!==e?e:E.defaultUrl)},E.getList=function(e,t){E.requestedPage(1),u(t),n()},v()}}();