/*
 * knockout-paged-list v1.1.6
 * A KnockoutJS Plugin for Paged List/Grid
 * @repository https://github.com/uNkNowN92-git/knockout-paged-list.git
 * @license ISC
 */
var PagedList=function(e,r){"use strict";return function(t){function n(){var e;e=F===!1?J:void 0===I?r.mapping.fromJS(J):r.mapping.fromJS(J,I),w.data(e)}function o(e){var r,t=[];for(r in e)if(t.push(r),t.length>H)return!1;return!0}function a(e){var r,t=[];for(r in e)t.push(r);return t.length}function u(){return 1===U()&&w.entriesPerPage()===w.totalEntries()}function i(){s()?(U(1),X(z),f()):K===!1?f():w.sortOnly()?f():l()?f():c()?f():(w.currentPage(U()),w.entriesPerPage(X()))}function s(){var t={};return e.extend(t,[w.filter()][0]),r.toJSON(t)!=r.toJSON(w.appliedFilter())?(w.appliedFilter(t),!0):!1}function l(){return w.loadedEntriesCount()<w.totalEntriesOnNextPage()&&w.loadedEntriesCount()!==w.totalEntries()}function c(){var e=w.isPageReloadRequired()===!0;return w.isPageReloadRequired(!1),e}function d(r){var t=void 0!==r?e(r.target).data("url"):void 0;w.setUrl(t)}function p(r){return void 0!==r?e(r.target).data("sort-field"):void 0}function f(){void 0!==D()&&(g(),w.loading(!0),w.error([]),T(P()),w.request=e.ajax({url:D().toString(),method:"get",dataType:"json",data:T(),success:b,error:h,beforeSend:v}).always(function(){w.loading(!1),w.entriesPerPage(X())}))}function g(){w.request&&4!==w.request.readyState&&w.request.abort()}function v(r){e.each(w.headers(),function(e,t){r.setRequestHeader(e,t)})}function P(){var r={page:U(),perPage:X(),currentEntries:w.loadedEntriesCount(),showAll:u()};return w.activeSort()&&e.extend(r,{sortBy:w.activeSort().column,sortAsc:w.activeSort().asc,sortOnly:w.sortOnly()}),e.extend(r,w.filter()),delete r.updateItems,r}function b(e){j=S(e.data,e.Data),L=S(e.details,e.Details),N=S(L.totalEntries,L.TotalEntries),j.length>0&&(m(),w.currentPage(U())),y(),w.error([])}function m(){var e=U()*X()<=N?U()*X():N,r=O(e),t=w.data();"function"==typeof t?(t.splice(N,t().length-N),r.updateItems(0,t())):(t.splice(N,t.length-N),r.updateItems(0,t)),w.sortOnly()?(r.updateItems(0,j),w.sortOnly(!1)):r.updateItems(A(),j),E(r[0]),J=r,n()}function E(r){if(0===w.columns().length||K===!1){var t=e.map(r,function(e,r){return r});w.columns(t)}}function y(){0===N&&w.data([]),w.totalEntries(N)}function h(r,t,n){w.error({jqXHR:r,status:t,error:n}),e.extend(w.appliedFilter(),{error:!0}),G&&w.data([])}function C(){return(w.currentPage()-1)*w.entriesPerPage()}function A(){return(U()-1)*w.entriesPerPage()}function O(r){return e.map(Array.apply(null,Array(r)),function(){return{}})}function q(r){return e.map(r,function(e,r){return o(e)?void 0:r}).length}function S(e,r){return void 0!==e?e:r}function x(){t&&(M=S(t.url,M),Q=S(t.queryOnLoad,Q),z=S(t.entriesPerPage,z),G=S(t.clearLoadedDataOnError,G),K=S(t.queryOnFilterChangeOnly,K),I=S(t.mapping,I),F=S(t.dataAsObservable,void 0===F&&void 0!==I?!0:!1),H=F===!0&&void 0!==I?a(I.create({data:{}})):0)}function R(){void 0!==M&&(w.setUrl(M),Q&&w.getList())}var w=this;Array.prototype.updateItems=function(e,r){void 0!==r&&Array.prototype.splice.apply(this,[e,r.length].concat(r))};var I,F,j,N,L,H=0,J=[],D=r.observable(),T=r.observable(),U=r.observable(1),X=r.observable(1),k=!1,B=r.observable(),M="/",Q=!0,z=5,G=!1,K=!0;w.request=void 0,x(),w.data=r.observableArray([]),w.currentPage=r.observable(1),w.entriesPerPage=r.observable(z),w.totalEntries=r.observable(0),w.isPageReloadRequired=r.observable(!1),w.headers=r.observableArray(),w.error=r.observableArray(),w.loading=r.observable(!1),w.filter=r.observableArray(),w.appliedFilter=r.observableArray(),w.columns=r.observableArray(),w.sortOnly=r.observable(!1),w.activeSort=r.observableArray(),w.pageNumber=r.pureComputed({write:function(e){B(e)},read:function(){return w.currentPage()}}),w.pageNumbers=r.pureComputed(function(){for(var e=[],r=1;r<=w.totalPages();r++)e.push(r);return e}),w.entries=r.pureComputed(function(){var e=C();return w.data.slice(e,e+w.entriesPerPage())}),w.hasEntries=r.pureComputed(function(){return w.totalEntries()>0}),w.totalPages=r.pureComputed(function(){var e=Math.ceil(w.totalEntries()/w.entriesPerPage());return e>0?e:1}),w.previousEnabled=r.pureComputed(function(){return 1!==w.currentPage()&&w.loading()===!1&&!w.hasError()}),w.nextEnabled=r.pureComputed(function(){return w.currentPage()!==w.totalPages()&&w.loading()===!1&&!w.hasError()}),w.showAllEntriesEnabled=r.pureComputed(function(){return w.totalEntries()>z&&w.loading()===!1&&!w.hasError()}),w.showFirstEntriesEnabled=r.pureComputed(function(){return w.hasEntries()&&w.totalEntries()>z&&w.loading()===!1&&!w.hasError()}),w.firstEntriesCount=r.pureComputed(function(){return w.totalEntries()<w.entriesPerPage()?w.totalEntries():z}),w.previousItemsCount=r.pureComputed(function(){return z}),w.nextItemsCount=r.pureComputed(function(){return w.totalPages()-w.currentPage()===1?w.totalEntries()-w.entriesPerPage()*(w.totalPages()-1):z}),w.loadedEntriesCount=r.pureComputed(function(){var e=w.data(),r="function"==typeof e?e():e;return q(r)}),w.shownAll=r.pureComputed(function(){return w.totalEntries()<=z?!1:w.entriesPerPage()>=w.totalEntries()}),w.totalEntriesOnNextPage=function(){return U()*X()},w.url=r.pureComputed(function(){return D()}),w.queryOptions=r.pureComputed(function(){return T()}),w.hasError=r.pureComputed(function(){return 0!==w.error().length}),w.errorCode=r.pureComputed(function(){return void 0!==w.error().jqXHR?w.error().jqXHR.status:null}),w.parserError=r.pureComputed(function(){return void 0!==w.error().status?"parsererror"===w.error().status:!1}),w.preserveCurrentPage=function(e){k=void 0!==e?e:!1},w.goToPage=function(){},w.firstPage=function(){U(1),i()},w.lastPage=function(){U(w.totalPages()),i()},w.next=function(){w.currentPage()<w.totalPages()&&(U(w.currentPage()+1),i())},w.previous=function(){w.currentPage()>1&&(U(w.currentPage()-1),i())},w.showFirstEntries=function(){U(1),X(z),i()},w.showAll=function(){U(1),X(w.totalEntries()),i()},w.sort=function(r,t,n){if(void 0!==w.columns()&&!(w.totalEntries()<=1)&&(void 0!==n?d(n):(d(t),r=p(t)),-1!==e.inArray(r,w.columns()))){var o={column:r,asc:!0};w.activeSort().column===r&&(o.asc=!w.activeSort().asc),w.activeSort(o),w.sortOnly(!0),i()}},w.setUrl=function(e){D(void 0!==e?e:M)},w.getList=function(e,r){U(k===!0?w.currentPage():1),d(r),i()},R()}}(jQuery,ko);