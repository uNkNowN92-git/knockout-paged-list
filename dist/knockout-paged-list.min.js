/*
 * knockout-paged-list v1.1.2
 * A KnockoutJS Plugin for Paged List/Grid
 * @repository https://github.com/uNkNowN92-git/knockout-paged-list.git
 * @license ISC
 */
var PagedList=function(e){return function(e){function t(){var e=ko.mapping.fromJS(w,F);O.data(e)}function r(e){var t,r=[];for(t in e)if(r.push(t),r.length>I)return!1;return!0}function n(e){var t,r=[];for(t in e)r.push(t);return r.length}function o(){return 1===O.requestedPage()&&O.entriesPerPage()===O.totalEntries()}function a(){u()?(O.requestedPage(1),O.requestedEntriesPerPage(L),d()):N===!1?d():O.sortOnly()?d():i()?d():(O.currentPage(O.requestedPage()),O.entriesPerPage(O.requestedEntriesPerPage()))}function u(){var e={};return $.extend(e,[O.filter()][0]),ko.toJSON(e)!=ko.toJSON(O.appliedFilter())?(O.appliedFilter(e),!0):!1}function i(){return(O.loadedEntriesCount()<O.totalEntriesOnNextPage()||O.entriesPerPage()!==O.requestedEntriesPerPage())&&O.loadedEntriesCount()!==O.totalEntries()}function s(e){var t=void 0!==e?$(e.target).data("url"):void 0;O.setUrl(t)}function l(e){return void 0!==e?$(e.target).data("sort-field"):void 0}function d(){if(void 0!==S){c(),O.loading(!0),O.error([]);var e=P();O.request=$.ajax({url:S,method:"get",dataType:"json",data:e,success:f,error:m,beforeSend:g}).always(function(){O.loading(!1),O.entriesPerPage(O.requestedEntriesPerPage())})}}function c(){O.request&&4!==O.request.readyState&&O.request.abort()}function g(e){$.each(O.headers(),function(t,r){e.setRequestHeader(t,r)})}function P(){var e={page:O.requestedPage(),perPage:O.requestedEntriesPerPage(),currentEntries:O.loadedEntriesCount(),showAll:o()};return O.activeSort()&&$.extend(e,{sortBy:O.activeSort().column,sortAsc:O.activeSort().asc,sortOnly:O.sortOnly()}),$.extend(e,O.filter()),delete e.updateItems,e}function f(e){e.data.length>0&&(p(e),O.currentPage(O.requestedPage())),E(e.details),O.error([])}function p(e){var r=y(e.details.totalEntries),n=O.data();"function"==typeof n&&(n.splice(e.details.totalEntries,n().length-e.details.totalEntries),r.updateItems(0,n())),O.sortOnly()?(r.updateItems(0,e.data),O.sortOnly(!1)):r.updateItems(b(),e.data),v(r[0]),w=r,t()}function v(e){if(0===O.columns().length||N===!1){var t=$.map(e,function(e,t){return t});O.columns(t)}}function E(e){0===e.totalEntries&&O.data([]),O.totalEntries(e.totalEntries)}function m(e,t,r){O.error({jqXHR:e,status:t,error:r}),O.appliedFilter([]),H&&O.data([])}function q(){return(O.currentPage()-1)*O.entriesPerPage()}function b(){return(O.requestedPage()-1)*O.entriesPerPage()}function y(e){return $.map(Array.apply(null,Array(e)),function(){return{}})}function k(e){return $.map(e,function(e,t){return r(e)?void 0:t}).length}function h(e,t){return void 0!==e?e:t}function C(){e&&(x=h(e.url,x),j=h(e.queryOnLoad,j),L=h(e.entriesPerPage,L),H=h(e.clearLoadedDataOnError,H),N=h(e.queryOnFilterChangeOnly,N),F=h(e.mapping,F),I=n(F.create({data:{}})))}function A(){void 0!==x&&(O.setUrl(x),j&&O.getList())}var O=this;Array.prototype.updateItems=function(e,t){void 0!==t&&Array.prototype.splice.apply(this,[e,t.length].concat(t))};var S,x,F={create:function(e){return e.data}},I=0,w=[],j=!0,L=5,H=!1,N=!0;O.request=void 0,C(),O.data=ko.observableArray([]),O.currentPage=ko.observable(1),O.requestedPage=ko.observable(1),O.entriesPerPage=ko.observable(L),O.requestedEntriesPerPage=ko.observable(1),O.totalEntries=ko.observable(0),O.headers=ko.observableArray(),O.error=ko.observableArray(),O.loading=ko.observable(!1),O.filter=ko.observableArray(),O.appliedFilter=ko.observableArray(),O.columns=ko.observableArray(),O.sortOnly=ko.observable(!1),O.activeSort=ko.observableArray(),O.entries=ko.pureComputed(function(){var e=q();return O.data.slice(e,e+O.entriesPerPage())}),O.hasEntries=ko.pureComputed(function(){return O.totalEntries()>0}),O.totalPages=ko.pureComputed(function(){var e=Math.ceil(O.totalEntries()/O.entriesPerPage());return e>0?e:1}),O.previousEnabled=ko.pureComputed(function(){return 1!==O.currentPage()&&O.loading()===!1}),O.nextEnabled=ko.pureComputed(function(){return O.currentPage()!==O.totalPages()&&O.loading()===!1}),O.showFirstEntriesEnabled=ko.pureComputed(function(){return O.hasEntries()&&O.totalEntries()>L&&O.loading()===!1}),O.firstEntriesCount=ko.pureComputed(function(){return O.totalEntries()<O.entriesPerPage()?O.totalEntries():L}),O.previousItemsCount=ko.pureComputed(function(){return L}),O.nextItemsCount=ko.pureComputed(function(){return O.totalPages()-O.currentPage()==1?O.totalEntries()-O.entriesPerPage()*(O.totalPages()-1):L}),O.loadedEntriesCount=ko.pureComputed(function(){var e=O.data();return"function"==typeof e?k(e()):0}),O.shownAll=ko.pureComputed(function(){return O.entriesPerPage()>=O.totalEntries()}),O.totalEntriesOnNextPage=function(){return O.requestedPage()*O.requestedEntriesPerPage()},O.hasError=ko.pureComputed(function(){return 0!==O.error().length}),O.errorCode=ko.pureComputed(function(){return void 0!==O.error().jqXHR?O.error().jqXHR.status:null}),O.parserError=ko.pureComputed(function(){return void 0!==O.error().status?"parsererror"===O.error().status:!1}),O.firstPage=function(){O.requestedPage(1),a()},O.lastPage=function(){},O.next=function(){O.currentPage()<O.totalPages()&&(O.requestedPage(O.currentPage()+1),a())},O.previous=function(){O.currentPage()>1&&(O.requestedPage(O.currentPage()-1),a())},O.showFirstEntries=function(){O.requestedPage(1),O.requestedEntriesPerPage(L),a()},O.showAll=function(){O.requestedPage(1),O.requestedEntriesPerPage(O.totalEntries()),a()},O.sort=function(e,t,r){if(void 0!==O.columns()&&!(O.totalEntries()<=1)&&(void 0!==r?s(r):(s(t),e=l(t)),-1!==$.inArray(e,O.columns()))){var n={column:e,asc:!0};O.activeSort().column===e&&(n.asc=!O.activeSort().asc),O.activeSort(n),O.sortOnly(!0),a()}},O.setUrl=function(e){S=void 0!==e?e:x},O.getList=function(e,t){O.requestedPage(1),s(t),a()},A()}}();